
<div class="main-content">

  <div class="row">
    <div class="col-md-12" >
      <div class="card">
        <div class="card-body">
          <div class="row" style="margin: 0vw 32vw;">
            <h4>Istoric concedii</h4>
          </div>
          <div class="row" >
            <div class="col-lg-5 col-md-6 col-sm-3" style="margin: 0vw 1.5vw;">
              <select class="selectpicker" data-size="7" data-style="btn btn-outline-danger btn-round" title="Anul"
                      (change)="selectChangeHandler($event)" >
                <option  *ngFor="let year of yearsInCompany" [selected]="year == yearsInCompany[yearsInCompany.length-1]" selected = 'selected'>
                  {{year}}
                </option>
              </select>
            </div>
          </div>
        </div>
          <div class="table-responsive">
            <table class="table">
              <thead class="">
              <th>
               De la
              </th>
              <th>
                Până
              </th>
              <th>
                Motiv plecare
              </th>
              <th class="text-right">
                Număr zile
              </th>
              <th class="text-right">
                Stare
              </th>
              <th class="text-right">
                Validat
              </th>
              </thead>
              <tbody>
              <tr  *ngFor="let holiday of holidays">
                <td *ngIf="yearsAreEqual(holiday.from, this.selectedYear)">
                  {{holiday.from}}
                </td>
                <td *ngIf="yearsAreEqual(holiday.from, this.selectedYear)">
                  {{holiday.to}}
                </td>
                <td *ngIf="yearsAreEqual(holiday.from, this.selectedYear)">
                  {{holiday.holidayType.label}}
                </td>
                <td class="text-right" *ngIf="yearsAreEqual(holiday.from, this.selectedYear)">
                  {{dateDifference(holiday.from, holiday.to)}}
                </td>
                <td class="text-right" *ngIf="yearsAreEqual(holiday.from, this.selectedYear)">
                  {{holiday.approved ? 'Aprobat' : 'În aprobare'}}
                </td>
                <td class="text-right" *ngIf="yearsAreEqual(holiday.from, this.selectedYear)">
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" [checked]="holiday.validated">
                      <span class="form-check-sign"></span>
                    </label>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>



    <div class="col-md-12" >
      <div class="card">
        <div class="card-body">
          <div class="row" style="margin: 0vw 31vw;">
            <h4>Concedii an curent</h4>
          </div>
        </div>
        <div class="table-responsive">
          <table class="table">
            <thead class="">
            <th>
           Motiv plecare
            </th>
            <th>
              Zile legale
            </th>
            <th>
              Ianuarie
            </th>
            <th>
              Februarie
            </th>
            <th>
              Martie
            </th>
            <th>
              Aprilie
            </th>
            <th>
              Mai
            </th>
            <th>
              Iunie
            </th>
            <th>
              Iulie
            </th>
            <th>
              August
            </th>
            <th>
              Septembrie
            </th>
            <th>
              Octombrie
            </th>
            <th>
              Noiembrie
            </th>
            <th>
              Decembrie
            </th>
            <th>
              Zile utilizate
            </th>
            <th>
              Zile rămase
            </th>
            </thead>
            <tbody>
            <tr  *ngFor="let holiday of holidays; let i = index;">
              <td>
                Concediu de odihnă
              </td>
              <td>
                 21
              </td>
              <td>
                 {{currentYearLeaveByMonth.get(i)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+1)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+2)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+3)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+4)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+5)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+6)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+7)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+8)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+9)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+10)}}
              </td>
              <td>
                {{currentYearLeaveByMonth.get(i+11)}}
              </td>
              <td>
                {{ getDaysUsedFromCurrentLeave()}}
              </td>
              <td>
                {{18}}
              </td>

            </tr>
            <tr  *ngFor="let holiday of holidays; let i = index;">
              <td>
                Necesitate medicală
              </td>
              <td>
                3
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+1)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+2)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+3)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+4)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+5)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+6)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+7)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+8)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+9)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+10)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+11)}}
              </td>
              <td>
                {{sickDaysLeaveByMonth.get(i+11)}}
              </td>
              <td>
                {{3}}
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    </div>
  </div>

